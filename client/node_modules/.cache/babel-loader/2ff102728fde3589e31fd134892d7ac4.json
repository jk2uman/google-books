{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\JK's House\\\\Downloads\\\\GoogleBooks\\\\googlebooks\\\\client\\\\src\\\\pages\\\\search.js\";\nimport React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport Book from \"../components/Books/index\";\nimport SearchForm from \"../components/FormSearch/formsearch\";\nimport { List } from \"../components/List/index\";\nimport API from \"../utilities/API\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: [],\n      q: \"\",\n      message: \"Simply search for books via the Google Books API\"\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.getBooks = () => {\n      API.getBooks(this.state.q).then(res => this.setState({\n        books: res.data,\n        currentPage: 1\n      })).catch(() => {\n        toast.error(\"Your search did not match any book results.\");\n        this.setState({\n          books: [],\n          message: \"Your search did not match any book results.\",\n          currentPage: 1\n        });\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      toast.info(\"Searching books... !\");\n      this.getBooks();\n    };\n\n    this.handleBookSave = id => {\n      const book = this.state.books.find(book => book.id === id);\n      API.saveBook({\n        googleId: book.id,\n        title: book.volumeInfo.title,\n        url: book.volumeInfo.infoURL,\n        authors: book.volumeInfo.authors,\n        synopsis: book.volumeInfo.synopsis,\n        image: book.volumeInfo.imageLinks.thumbnail\n      }).then(() => this.getBooks());\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-10 col-centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"order-sm-2 p-2 bd-highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"image-250\",\n      src: \"\",\n      alt: \"React Google Books Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"order-sm-1 p-2 bd-highlight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"heading-title mx-sm-3 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      className: \"heading-subtitle mx-sm-3 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Search for and Save Books of Interest.\"), React.createElement(SearchForm, {\n      handleInputChange: this.handleInputChange,\n      handleFormSubmit: this.handleFormSubmit,\n      q: this.state.q,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-10 col-centered card-content mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"heading-title mx-sm-3 mb-2 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Results\"), this.state.books.length ? React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.books.map(book => React.createElement(Book, {\n      key: book.id,\n      title: book.volumeInfo.title,\n      url: book.volumeInfo.infoURL,\n      authors: book.volumeInfo.authors.join(\", \"),\n      synopsis: book.volumeInfo.synopsis,\n      image: book.volumeInfo.imageLinks.thumbnail,\n      Button: () => React.createElement(\"button\", {\n        onClick: () => this.handleBookSave(book.id),\n        className: \"btn save-button  heading-subtitle ml-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Save\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }))) : React.createElement(\"div\", {\n      className: \"mockup-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"heading-title text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, this.state.message)))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\JK's House\\Downloads\\GoogleBooks\\googlebooks\\client\\src\\pages\\search.js"],"names":["React","Component","toast","Book","SearchForm","List","API","Search","state","books","q","message","handleInputChange","event","target","name","value","setState","getBooks","then","res","data","currentPage","catch","error","handleFormSubmit","preventDefault","info","handleBookSave","id","book","find","saveBook","googleId","title","volumeInfo","url","infoURL","authors","synopsis","image","imageLinks","thumbnail","render","length","map","join"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport Book from \"../components/Books/index\";\r\nimport SearchForm from \"../components/FormSearch/formsearch\";\r\nimport { List } from \"../components/List/index\";\r\nimport API from \"../utilities/API\";\r\n\r\nclass Search extends Component {\r\n    state = {\r\n        books: [],\r\n        q: \"\",\r\n        message: \"Simply search for books via the Google Books API\"\r\n    };\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    getBooks = () => {\r\n        API.getBooks(this.state.q)\r\n            .then(res =>\r\n                this.setState({\r\n                    books: res.data,\r\n                    currentPage: 1\r\n                })\r\n            )\r\n            .catch(() => {\r\n                toast.error(\"Your search did not match any book results.\");\r\n\r\n                this.setState({\r\n                    books: [],\r\n                    message: \"Your search did not match any book results.\",\r\n                    currentPage: 1\r\n                });\r\n            });\r\n    };\r\n\r\n    handleFormSubmit = event => {\r\n        event.preventDefault();\r\n        toast.info(\"Searching books... !\");\r\n        this.getBooks();\r\n    };\r\n\r\n    handleBookSave = id => {\r\n        const book = this.state.books.find(book => book.id === id);\r\n\r\n        API.saveBook({\r\n            googleId: book.id,\r\n            title: book.volumeInfo.title,\r\n            url: book.volumeInfo.infoURL,\r\n            authors: book.volumeInfo.authors,\r\n            synopsis: book.volumeInfo.synopsis,\r\n            image: book.volumeInfo.imageLinks.thumbnail\r\n        }).then(() => this.getBooks());\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-10 col-centered\">\r\n                        <div className=\"d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center align-items-center\">\r\n                            <div className=\"order-sm-2 p-2 bd-highlight\">\r\n                                <img\r\n                                    className=\"image-250\"\r\n                                    src=\"\"\r\n                                    alt=\"React Google Books Search\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"order-sm-1 p-2 bd-highlight\">\r\n                                <h1 className=\"heading-title mx-sm-3 mb-2\">\r\n\r\n                                </h1>\r\n                                <h2 className=\"heading-subtitle mx-sm-3 mb-2\">\r\n                                    Search for and Save Books of Interest.\r\n                </h2>\r\n                                <SearchForm\r\n                                    handleInputChange={this.handleInputChange}\r\n                                    handleFormSubmit={this.handleFormSubmit}\r\n                                    q={this.state.q}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-10 col-centered card-content mb-4\">\r\n                        <h1 className=\"heading-title mx-sm-3 mb-2 text-center\">Results</h1>\r\n\r\n                        {this.state.books.length ? (\r\n                            <List>\r\n                                {this.state.books.map(book => (\r\n                                    <Book\r\n                                        key={book.id}\r\n                                        title={book.volumeInfo.title}\r\n                                        url={book.volumeInfo.infoURL}\r\n                                        authors={book.volumeInfo.authors.join(\", \")}\r\n                                        synopsis={book.volumeInfo.synopsis}\r\n                                        image={book.volumeInfo.imageLinks.thumbnail}\r\n                                        Button={() => (\r\n                                            <button\r\n                                                onClick={() => this.handleBookSave(book.id)}\r\n                                                className=\"btn save-button  heading-subtitle ml-2\"\r\n                                            >\r\n                                                Save\r\n                      </button>\r\n                                        )}\r\n                                    />\r\n                                ))}\r\n                            </List>\r\n                        ) : (\r\n                                <div className=\"mockup-content\">\r\n                                    <h2 className=\"heading-title text-center\">\r\n                                        {this.state.message}\r\n                                    </h2>\r\n                                </div>\r\n                            )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}